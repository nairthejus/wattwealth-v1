:root{
  --bg:#0b1220;
  --card:#0f1720;
  --glass: rgba(255,255,255,0.04);
  --muted:#9aa4ad;
  --white: #f7fbfd;
  --accent: #0EAA4B;
  --soft: rgba(255,255,255,0.03);
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;background:linear-gradient(180deg,#061021 0%, #071a28 100%);color:var(--white)}

.topbar{
  height:64px;display:flex;align-items:center;padding:0 18px;gap:12px;
  border-bottom:1px solid rgba(255,255,255,0.03);
}
.hamburger{background:transparent;border:none;color:var(--white);font-size:18px;cursor:pointer}
.brand{font-weight:700;font-size:18px}
.top-actions{margin-left:auto;display:flex;gap:12px;align-items:center}
.chip{background:rgba(14,170,75,0.12);color:var(--accent);padding:6px 10px;border-radius:12px;font-weight:600}
.profile-sm{background:var(--accent);width:34px;height:34px;border-radius:8px;display:flex;justify-content:center;align-items:center;color:#061021;font-weight:700}

/* SIDEBAR */
.sidebar{
  position:fixed;left:0;top:0;height:100%;width:300px;padding:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));backdrop-filter: blur(6px);box-shadow: 8px 0 30px rgba(0,0,0,0.6);z-index:60;transition:transform .3s ease;
}
.sidebar.hidden{transform:translateX(-120%)}
.icon-btn{background:transparent;border:none;color:var(--white);font-size:18px;position:absolute;right:14px;top:12px;cursor:pointer}
.side-profile{display:flex;gap:12px;align-items:center;margin-top:28px}
.avatar{width:56px;height:56px;border-radius:12px;background:var(--accent);display:flex;align-items:center;justify-content:center;color:#042; font-weight:700}
.side-nav{display:flex;flex-direction:column;margin-top:20px;gap:8px}
.side-item{background:transparent;border:none;color:var(--white);text-align:left;padding:12px;border-radius:10px;cursor:pointer}
.side-item.active{background:rgba(255,255,255,0.02)}

.side-logout{position:absolute;bottom:28px;left:18px;right:18px}

/* MAIN */
.main{max-width:1200px;margin:18px auto;padding:18px;display:flex;flex-direction:column;gap:18px}

.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:14px;padding:16px;box-shadow: 0 8px 30px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03)}
.hero{display:flex;flex-direction:column;gap:12px}
.hero-top h1{margin:0;font-size:20px}
.subtitle{font-size:13px;color:var(--muted)}

.hero-body{display:flex;gap:18px;align-items:flex-start}
.flow-left{flex:1;padding:6px}
.flow-right{width:260px;display:flex;flex-direction:column;gap:12px;align-items:stretch}

.node-bg{stroke:none;filter: drop-shadow(0 10px 22px rgba(0,0,0,0.6))}
.node-bg.solar{fill:linear-gradient(#fff,#fff);fill:#fff}
.node-bg.battery{fill:#e7fbf0}
.node-bg.grid{fill:#eaf5ff}
.node-bg.home{fill:#f6f8fb}

.label-title{font-size:11px;fill:#061826;font-weight:700}
.label-value{font-size:12px;fill:#061826;font-weight:700}

.flow-line{fill:none;stroke-width:8;stroke-linecap:round;opacity:0.95;transition:stroke-dashoffset .6s ease}
.solar-line{stroke:#F2C94C}
.battery-line{stroke:#0EAA4B}
.grid-line{stroke:#3AA0FF}

/* stats */
.stats-card{background:var(--glass);padding:12px;border-radius:10px;display:flex;flex-direction:column;gap:10px}
.stat{display:flex;flex-direction:column}
.s-title{font-size:12px;color:var(--muted)}
.s-value{font-size:16px;font-weight:700}

/* content grid*/
.grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:18px}
.col h3{margin-top:0}

/* narrative */
.narrative{font-size:15px;line-height:1.45}
.small-metrics{display:flex;gap:12px;margin-top:12px}
.small-metrics div{background:var(--soft);padding:10px;border-radius:8px;flex:1;text-align:center}

/* battery card */
.battery-card{display:flex;gap:12px;align-items:center}
.battery-visual{width:72px;height:48px;border-radius:6px;background:linear-gradient(180deg,#0a1b1a,#042426);position:relative;overflow:hidden;border:1px solid rgba(255,255,255,0.03)}
.battery-fill{position:absolute;left:0;bottom:0;height:40%;width:100%;background:linear-gradient(180deg,var(--accent),#0b8f3d);transition:height .6s ease}
.battery-meta{font-size:13px;color:var(--muted)}

/* buttons */
.btn{background:var(--accent);border:none;color:#042;padding:10px 12px;border-radius:10px;cursor:pointer;font-weight:700}
.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px 12px;border-radius:10px;color:var(--white);cursor:pointer}

/* footer */
.footer{text-align:center;margin:18px;color:var(--muted)}

/* responsive */
@media (max-width:1000px){
  .grid{grid-template-columns:1fr}
  .flow-right{width:auto}
  .main{padding:12px}
  .sidebar{width:80%}
}
